<%= render "layouts/header" %>

<div class="container mt-5">
  <div class='row'>
    <% if @user.errors.any? %>
    <%= @user.errors.count %>件のエラーが発生しました
      <ul>
        <% @user.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
  <% end %>
    <div class="col-sm-12 col-md-8 col-lg-5 px-5 px-sm-0 mx-auto">
    <h2>User info</h2>
    <%= form_with model:@user, local:true do |f| %>
      <!--<%#= render 'layouts/errors', obj: @user %>-->
      <div class="form-group">
        <%= f.label :name, "ユーザーネーム" %>
        <%= f.text_field :name, class: "form-control name" %>
      </div>
      <div class="form-group">
        <%= f.label :image %>
        <%= f.file_field :profile_image, class: "form-control-file user_image", accept: 'image/*' %>
      </div>
      <div class="form-group">
        <%= f.label :introduction, "自己紹介"%>
        <%= f.text_area :introduction, class: "form-control introduction" %>
      </div>
      <div class="form-group">
        <%= f.submit:"更新", class: 'btn btn-secondary' %>
        <%= link_to "退会する", unsubscribe_path, class: "btn btn-danger" %>
      </div>
    <% end %>
    </div>
  </div>

</div><!--container mt-5-->
<%= render "layouts/footer" %>

